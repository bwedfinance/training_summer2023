<!DOCTYPE html>
<html lang="en"><head>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.318">

  <meta name="dcterms.date" content="2023-06-13">
  <title>School Finance Equity Training, Summer 2023 - Basic Data Analysis and Visualization in R</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/theme/quarto.css" id="theme">
  <link href="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Basic Data Analysis and Visualization in R</h1>

<div class="quarto-title-authors">
</div>

  <p class="date">2023-06-13</p>
</section>
<section>
<section id="homework-review" class="title-slide slide level1 center">
<h1>Homework Review</h1>

</section>
<section id="solving-a-common-problem-with-the-homework" class="slide level2">
<h2>Solving a common problem with the homework</h2>
</section></section>
<section>
<section id="how-do-local-taxes-affect-school-finance-equity" class="title-slide slide level1 center">
<h1>How do local taxes affect school finance equity?</h1>

</section>
<section id="how-property-taxes-fund-schools-12" class="slide level2">
<h2>How Property Taxes Fund Schools (1/2)</h2>
<p>The largest share of funding for public schools (47%) is generated by taxes at the local level. Property taxes are the most common source of local tax revenue for public schools in large part because they provide a stable revenue stream compared to taxes on sales or income. These taxes can be set by counties, towns, or school boards, depending on state policy.</p>
</section>
<section id="how-property-taxes-fund-schools-22" class="slide level2">
<h2>How Property Taxes Fund Schools (2/2)</h2>
<p>Property taxes are typically collected based on two variables:</p>
<ul>
<li>Assessed value of property</li>
<li>Property tax rate, sometimes called the “mill” rate.</li>
</ul>
</section>
<section id="what-does-assessed-value-of-property-mean" class="slide level2">
<h2>What does “assessed value of property” mean?</h2>
<p>The assessed value of a property is the dollar value used by a local government to determine how much a particular property is worth. The assessed value of a property may not always match the market value. Some local governments use an assessment rate to translate the market value of a property into taxable value.</p>
</section>
<section id="what-is-the-property-tax-rate-or-mill-rate" class="slide level2">
<h2>What is the “property tax rate” or “mill rate?</h2>
<p>The mill rate is the number of dollars per $1,000 in assessed value that property owners will owe each year. The mill rate multiplied by assessed value equals local property tax bills.</p>
<p>In some instances, state policy directly shapes or limits property taxes. Some states include caps on how much mill rates can grow each year; other states limit the growth in the assessed values of properties over time.</p>
</section>
<section id="how-do-property-taxes-produce-education-finance-inequities" class="slide level2">
<h2>How do property taxes produce education finance inequities?</h2>
<p>School districts generate revenue from the local property tax associated with property located within districts’ geographic boundaries. When school districts have significantly different levels of property wealth producing those tax revenues compared to one another, a massive barrier to equitable educational finance results.</p>
</section>
<section id="making-local-school-funding-more-equitable" class="slide level2">
<h2>Making Local School Funding More Equitable</h2>
<p>The way school district boundaries are drawn and the way school funding formulas account for differences in tax capacity among districts can reflect, amplify, or mitigate property wealth inequality. State policymakers can also implement policies that directly address local funding inequity by constraining runaway local taxation by wealthier districts, compensating for local revenue differences with state funds, and/or redistributing some of those funds. Some examples include:</p>
<ul>
<li>Capping local revenue: State policymakers can set a limit on the amount of per-pupil revenue local communities can generate for their public schools.</li>
<li>Supplementing local tax revenues in lower-wealth districts to equalize their ability to generate funding: States can provide additional funding to lower-wealth districts who choose to set a higher tax rate to ensure they get the same revenue for their tax effort that wealthier districts get.</li>
<li>Implementing redistributive mechanisms for exceeding local revenue caps: If communities wish to generate more revenue for their local school system above the cap, policymakers can set a rule that for every additional dollar generated above the cap, another dollar must be allocated to a state fund for schools in lower-wealth communities.</li>
<li>Enacting a statewide property tax: Moving from many locally collected taxes to a single, statewide property tax is the most direct way to address property wealth inequities among school districts. Vermont is the only state to implement a state-level property tax system for financing education.</li>
</ul>
</section>
<section id="questions-for-advocates" class="slide level2">
<h2>Questions for advocates</h2>
<ul>
<li>How do property wealth per pupil and mill rates vary by school district in your state?</li>
<li>Do school districts in your state have non-property tax local revenue sources?</li>
<li>Does state policy work to compensate for differences in local revenue capacity among districts? If so, how?</li>
<li>What policies might help improve the equity of local funding in your state</li>
</ul>
</section></section>
<section>
<section id="introduction-to-the-tidyverse" class="title-slide slide level1 center">
<h1>Introduction to the tidyverse</h1>

</section>
<section id="r-is-a-functional-programming-language---most-of-what-you-will-do-in-r-is-work-with-functions" class="slide level2">
<h2>R is a functional programming language - most of what you will do in R is work with functions</h2>
<p>A function:</p>
<ul>
<li>Takes a specified input</li>
<li>Performs an operation</li>
<li>Returns an output</li>
</ul>
<p>Functions are helpful tools to reduce repetition in typing and improves your code’s consistency, reliability and readability.</p>
</section>
<section id="the-tidyverse-is-a-powerful-collection-of-r-packages---collections-of-functions---that-work-well-together-12" class="slide level2">
<h2>The tidyverse is a powerful collection of R packages - collections of functions - that work well together (1/2)</h2>
<ul>
<li>The most popular packages in the R community are past of what is called the “tidyverse,” which includes packages like ggplot2, tidyr, stringr, tibble, purrr</li>
<li>Tidyverse packages are built to work together. Every tidyverse package contains functons that can manipulate or visualize data that lives in data frames.</li>
</ul>
</section>
<section id="the-tidyverse-is-a-powerful-collection-of-r-packages---collections-of-functions---that-work-well-together-22" class="slide level2">
<h2>The tidyverse is a powerful collection of R packages - collections of functions - that work well together (2/2)</h2>
<ul>
<li>Most functions in the tidyverse require a data frame (R’s version of a table) as the first argument in each function. The functions can be “chained” together with other functions.</li>
</ul>
<p>We will explore the tidyverse by looking at EdBuild’s FY2019 education data compiled from the F33 survey, SAIPE, EDGE, and CCD. The edbuildr package provides access to clean district data on funding, student demographics, and wealth.</p>
</section>
<section id="to-read-edbuilds-finance-data-into-our-working-environment-we-will-use-the-masterpull-function" class="slide level2">
<h2>To read EdBuild’s finance data into our working environment we will use the masterpull() function</h2>
<p>masterpull(data_year = 2019, data_type = “fin”): Downloads a clean dataset from EdBuild’s server. There are three options for the data_type argument:</p>
<ul>
<li>“geo”: only includes districts with geographic boundaries (no charter/special school districts) that meet EdBuild’s criteria for fiscal analysis</li>
<li>“fin”: includes all districts that meet EdBuild’s criteria for fiscal analysis</li>
<li>“full”: includes all districts – TO BE USED WITH CAUTION</li>
</ul>
</section>
<section id="the-dplyr-package-provides-many-functions-to-manipulate-your-data-frames-columns-and-rows" class="slide level2">
<h2>The dplyr() package provides many functions to manipulate your data frames’ columns and rows</h2>
<p>The functions you’ll most frequently use from the dplyr packages are:</p>
<ul>
<li>select(): names columns to keep from a data frame</li>
<li>rename(): name columns to keep from a data frame</li>
<li>filter(): remove rows that do not meet the condition in the logical statement from the output</li>
<li>mutate(): create a new column that will be added to the end of your data frame.</li>
</ul>
</section></section>
<section>
<section id="iterative-exploratory-analysis" class="title-slide slide level1 center">
<h1>Iterative exploratory analysis</h1>

</section>
<section id="live-coding-example-exploring_the_tidyverse.r" class="slide level2">
<h2>LIVE CODING EXAMPLE: exploring_the_tidyverse.R</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># load ----------</span></span>
<span id="cb1-2"><a href="#cb1-2"></a></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="fu">options</span>(<span class="at">scipen =</span> <span class="dv">999</span>)</span>
<span id="cb1-4"><a href="#cb1-4"></a></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="fu">library</span>(edbuildr)</span>
<span id="cb1-7"><a href="#cb1-7"></a></span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="co"># Krista likes to denote which spreadsheet is raw for transparency </span></span>
<span id="cb1-9"><a href="#cb1-9"></a>dist_fy19_raw <span class="ot">&lt;-</span> <span class="fu">masterpull</span>(<span class="at">data_type =</span> <span class="st">"geo"</span>)</span>
<span id="cb1-10"><a href="#cb1-10"></a></span>
<span id="cb1-11"><a href="#cb1-11"></a><span class="co"># filter Minnesota data and clean -----</span></span>
<span id="cb1-12"><a href="#cb1-12"></a></span>
<span id="cb1-13"><a href="#cb1-13"></a><span class="co"># filter, rename, and mutate data for Minnesota </span></span>
<span id="cb1-14"><a href="#cb1-14"></a>mn_ed_data <span class="ot">&lt;-</span> dist_fy19_raw <span class="sc">|&gt;</span></span>
<span id="cb1-15"><a href="#cb1-15"></a>  <span class="fu">filter</span>(State <span class="sc">==</span> <span class="st">"Minnesota"</span>) <span class="sc">|&gt;</span></span>
<span id="cb1-16"><a href="#cb1-16"></a>  <span class="fu">rename</span>(<span class="at">district =</span> NAME,</span>
<span id="cb1-17"><a href="#cb1-17"></a>         <span class="at">county =</span> County,</span>
<span id="cb1-18"><a href="#cb1-18"></a>         <span class="at">enroll =</span> ENROLL, </span>
<span id="cb1-19"><a href="#cb1-19"></a>         <span class="at">total_local_rev =</span> LR,</span>
<span id="cb1-20"><a href="#cb1-20"></a>         <span class="at">total_state_rev =</span> SR,</span>
<span id="cb1-21"><a href="#cb1-21"></a>         <span class="at">total_state_local_rev =</span> SLR, </span>
<span id="cb1-22"><a href="#cb1-22"></a>         <span class="at">urbanicity =</span> dUrbanicity,</span>
<span id="cb1-23"><a href="#cb1-23"></a>         <span class="at">operational_schools =</span> dOperational_schools, </span>
<span id="cb1-24"><a href="#cb1-24"></a>         <span class="at">district_type =</span> dType, </span>
<span id="cb1-25"><a href="#cb1-25"></a>         <span class="at">white_enroll =</span> dWhite, </span>
<span id="cb1-26"><a href="#cb1-26"></a>         <span class="at">sped_enroll =</span> dIEP, </span>
<span id="cb1-27"><a href="#cb1-27"></a>         <span class="at">ell_enroll =</span> dLEP, </span>
<span id="cb1-28"><a href="#cb1-28"></a>         <span class="at">econ_dis_enroll =</span> StPov,</span>
<span id="cb1-29"><a href="#cb1-29"></a>         <span class="at">bipoc_pct =</span> pctNonwhite, </span>
<span id="cb1-30"><a href="#cb1-30"></a>         <span class="at">pov_pct =</span> StPovRate,</span>
<span id="cb1-31"><a href="#cb1-31"></a>         <span class="at">median_house_income =</span> MHI, </span>
<span id="cb1-32"><a href="#cb1-32"></a>         <span class="at">median_prop_value =</span> MPV) <span class="sc">|&gt;</span></span>
<span id="cb1-33"><a href="#cb1-33"></a>  <span class="fu">mutate</span>(<span class="at">bipoc_enroll =</span> enroll <span class="sc">-</span> white_enroll,</span>
<span id="cb1-34"><a href="#cb1-34"></a>         <span class="at">ell_pct =</span> ell_enroll<span class="sc">/</span>enroll, </span>
<span id="cb1-35"><a href="#cb1-35"></a>         <span class="at">sped_pct =</span> sped_enroll<span class="sc">/</span>enroll, </span>
<span id="cb1-36"><a href="#cb1-36"></a>         <span class="at">local_rev_pp =</span> total_local_rev<span class="sc">/</span>enroll,</span>
<span id="cb1-37"><a href="#cb1-37"></a>         <span class="at">state_rev_pp =</span> total_state_rev<span class="sc">/</span>enroll,</span>
<span id="cb1-38"><a href="#cb1-38"></a>         <span class="at">local_state_rev_pp =</span> total_state_local_rev<span class="sc">/</span>enroll) <span class="sc">|&gt;</span></span>
<span id="cb1-39"><a href="#cb1-39"></a>  <span class="fu">select</span>(district, county, enroll, local_rev_pp, state_rev_pp, local_state_rev_pp, </span>
<span id="cb1-40"><a href="#cb1-40"></a>         total_local_rev, total_state_rev, total_state_local_rev, urbanicity, </span>
<span id="cb1-41"><a href="#cb1-41"></a>         operational_schools, district_type, pov_pct, bipoc_pct, ell_pct, sped_pct)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section>
<section>
<section id="visual-exploratory-analysis" class="title-slide slide level1 center">
<h1>Visual exploratory analysis</h1>

</section>
<section id="summarizing-columns-can-be-helpful-but-it-can-hide-nuance-in-your-data-that-can-be-better-seen-via-plotting" class="slide level2">
<h2>Summarizing columns can be helpful, but it can hide nuance in your data that can be better seen via plotting</h2>
<p>The ggplot2 package is the most widely-used data visualization approach in the R ecosystem.</p>
<ul>
<li>ggplot plots are created by starting with your data, then building up layers</li>
<li>Once your specify your data, you can add layers of “geoms” to create your plot</li>
<li>Today we will use geom_histogram() and geom_point()</li>
</ul>
</section></section>
<section>
<section id="iterating-your-way-to-beauty-with-ggplot2-using-minnesota-data" class="title-slide slide level1 center">
<h1>Iterating your way to beauty with ggplot2 using Minnesota data</h1>

</section>
<section id="step-1-create-a-basic-plot" class="slide level2">
<h2>Step 1: Create a basic plot</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb2-2"><a href="#cb2-2"></a></span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="co"># first minnesota plot </span></span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="fu">ggplot</span>(mn_ed_data, <span class="fu">aes</span>(<span class="at">x =</span> pov_pct, <span class="at">y =</span> local_rev_pp)) <span class="sc">+</span></span>
<span id="cb2-5"><a href="#cb2-5"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="week_02_ggplot_slides_files/figure-revealjs/unnamed-chunk-2-1.png" width="960" class="r-stretch"></section>
<section id="step-2-address-missing-values" class="slide level2">
<h2>Step 2: Address missing values</h2>
<p>We need to figure out what’s going on with our missing values before we go any further!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># investigate missing values </span></span>
<span id="cb3-2"><a href="#cb3-2"></a>mn_na_dist <span class="ot">&lt;-</span> mn_ed_data <span class="sc">|&gt;</span></span>
<span id="cb3-3"><a href="#cb3-3"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(local_rev_pp) <span class="sc">|</span> <span class="fu">is.na</span>(pov_pct)) <span class="sc">|&gt;</span></span>
<span id="cb3-4"><a href="#cb3-4"></a>  <span class="fu">arrange</span>(district_type) </span>
<span id="cb3-5"><a href="#cb3-5"></a></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="fu">view</span>(mn_na_dist)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The missing data makes sense. All eight of the rows don’t have any available data.</p>
</section>
<section id="step-3-clean-up-formatting-of-chart-elements-15" class="slide level2">
<h2>Step 3: Clean up formatting of chart elements (1/5)</h2>
<p>Now that we understand our missing data, we can create an updated dataframe and re-plot our newly cleaned data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co"># create tidy df</span></span>
<span id="cb4-2"><a href="#cb4-2"></a>mn_ed_clean <span class="ot">&lt;-</span> mn_ed_data <span class="sc">|&gt;</span></span>
<span id="cb4-3"><a href="#cb4-3"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(local_rev_pp), </span>
<span id="cb4-4"><a href="#cb4-4"></a>         <span class="sc">!</span><span class="fu">is.na</span>(pov_pct))</span>
<span id="cb4-5"><a href="#cb4-5"></a></span>
<span id="cb4-6"><a href="#cb4-6"></a><span class="fu">view</span>(mn_ed_clean)</span>
<span id="cb4-7"><a href="#cb4-7"></a></span>
<span id="cb4-8"><a href="#cb4-8"></a><span class="co"># Drop the 2 districts that have no enrollment</span></span>
<span id="cb4-9"><a href="#cb4-9"></a>mn_ed_clean <span class="ot">&lt;-</span> mn_ed_clean <span class="sc">|&gt;</span></span>
<span id="cb4-10"><a href="#cb4-10"></a>  <span class="fu">filter</span>(enroll <span class="sc">&gt;</span> <span class="dv">0</span>)</span>
<span id="cb4-11"><a href="#cb4-11"></a></span>
<span id="cb4-12"><a href="#cb4-12"></a><span class="co"># first minnesota plot w/ clean data</span></span>
<span id="cb4-13"><a href="#cb4-13"></a><span class="fu">ggplot</span>(mn_ed_clean, <span class="fu">aes</span>(<span class="at">x =</span> pov_pct, <span class="at">y =</span> local_rev_pp)) <span class="sc">+</span></span>
<span id="cb4-14"><a href="#cb4-14"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="week_02_ggplot_slides_files/figure-revealjs/unnamed-chunk-4-1.png" width="960" class="r-stretch"></section>
<section id="step-3-clean-up-formatting-of-chart-elements-25" class="slide level2">
<h2>Step 3: Clean up formatting of chart elements (2/5)</h2>
<p>We see some overlap in the points. Reducing the opacity of the points can be accomplished by setting the alpha parameter in geom_point() to a value less than 1. Setting it to .5 will make data points 50% translucent.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="co"># reduce opacity of points</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="fu">ggplot</span>(mn_ed_clean, <span class="fu">aes</span>(<span class="at">x =</span> pov_pct, <span class="at">y =</span> local_rev_pp)) <span class="sc">+</span></span>
<span id="cb5-3"><a href="#cb5-3"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="week_02_ggplot_slides_files/figure-revealjs/unnamed-chunk-5-1.png" width="960" class="r-stretch"></section>
<section id="step-3-clean-up-formatting-of-chart-elements-35" class="slide level2">
<h2>Step 3: Clean up formatting of chart elements (3/5)</h2>
<p>Let’s take care of some formatting issues. Our axes don’t look great - the decimals ought to be percentages. Here, the scales package provides some help.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="co"># format axes </span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="fu">library</span>(scales)</span>
<span id="cb6-3"><a href="#cb6-3"></a></span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="co"># format the x and y axes</span></span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="fu">ggplot</span>(mn_ed_clean, <span class="fu">aes</span>(<span class="at">x =</span> pov_pct, <span class="at">y =</span> local_rev_pp)) <span class="sc">+</span></span>
<span id="cb6-6"><a href="#cb6-6"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">5</span>) <span class="sc">+</span> </span>
<span id="cb6-7"><a href="#cb6-7"></a><span class="co"># make sure you have the `scales` package loaded!</span></span>
<span id="cb6-8"><a href="#cb6-8"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> <span class="fu">percent_format</span>(<span class="at">accuracy =</span> <span class="dv">1</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="week_02_ggplot_slides_files/figure-revealjs/unnamed-chunk-6-1.png" width="960" class="r-stretch"></section>
<section id="step-3-clean-up-formatting-of-chart-elements-45" class="slide level2">
<h2>Step 3: Clean up formatting of chart elements (4/5)</h2>
<p>Next, we should add some labels to our axes that make sense, along with a title for our plot and a caption that details our data sources.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="co"># add data labels </span></span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="fu">ggplot</span>(mn_ed_clean, <span class="fu">aes</span>(<span class="at">x =</span> pov_pct, <span class="at">y =</span> local_rev_pp)) <span class="sc">+</span></span>
<span id="cb7-3"><a href="#cb7-3"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">5</span>) <span class="sc">+</span> </span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="co"># make sure you have the `scales` package loaded!</span></span>
<span id="cb7-5"><a href="#cb7-5"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> <span class="fu">percent_format</span>(<span class="at">accuracy =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb7-6"><a href="#cb7-6"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Student Poverty Rate"</span>, <span class="at">y =</span> <span class="st">"Local Per-Pupil Revenue"</span>,</span>
<span id="cb7-7"><a href="#cb7-7"></a>       <span class="at">title =</span> <span class="st">"Local Per-Pupil Revenue by Student Povert Rate in Minnesota School Districts"</span>,</span>
<span id="cb7-8"><a href="#cb7-8"></a>       <span class="at">caption =</span> <span class="st">"Source: Edbuild Data, 2019"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="week_02_ggplot_slides_files/figure-revealjs/unnamed-chunk-7-1.png" width="960" class="r-stretch"></section>
<section id="step-3-clean-up-formatting-of-chart-elements-55" class="slide level2">
<h2>Step 3: Clean up formatting of chart elements (5/5)</h2>
<p>Themes can be used to change the appearance of elements in your plot. There are many stock options, but I prefer theme_bw() for its clean appearance and helpful and unobtrusive grid lines.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="co"># change theme</span></span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="fu">ggplot</span>(mn_ed_clean, <span class="fu">aes</span>(<span class="at">x =</span> pov_pct, <span class="at">y =</span> local_rev_pp)) <span class="sc">+</span></span>
<span id="cb8-3"><a href="#cb8-3"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">5</span>) <span class="sc">+</span> </span>
<span id="cb8-4"><a href="#cb8-4"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> <span class="fu">percent_format</span>(<span class="at">accuracy =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb8-5"><a href="#cb8-5"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Student Poverty Rate"</span>, <span class="at">y =</span> <span class="st">"Local Per-Pupil Revenue"</span>,</span>
<span id="cb8-6"><a href="#cb8-6"></a>       <span class="at">title =</span> <span class="st">"Local Per-Pupil Revenue by Student Povert Rate in Minnesota School Districts"</span>,</span>
<span id="cb8-7"><a href="#cb8-7"></a>       <span class="at">caption =</span> <span class="st">"Source: Edbuild Data, 2019"</span>) <span class="sc">+</span></span>
<span id="cb8-8"><a href="#cb8-8"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="week_02_ggplot_slides_files/figure-revealjs/unnamed-chunk-8-1.png" width="960" class="r-stretch"></section></section>
<section>
<section id="break" class="title-slide slide level1 center">
<h1>Break</h1>

</section>
<section id="step-4-add-a-new-layer-of-data" class="slide level2">
<h2>Step 4: Add a new layer of data</h2>
<p>Now that we have a decent-looking graph, let’s add in a new data element to vary point size by enrollment.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="co"># add size element </span></span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="fu">ggplot</span>(mn_ed_clean, <span class="fu">aes</span>(<span class="at">x =</span> pov_pct, <span class="at">y =</span> local_rev_pp, <span class="at">size =</span> enroll)) <span class="sc">+</span></span>
<span id="cb9-3"><a href="#cb9-3"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">5</span>) <span class="sc">+</span> </span>
<span id="cb9-4"><a href="#cb9-4"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> <span class="fu">percent_format</span>(<span class="at">accuracy =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb9-5"><a href="#cb9-5"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Student Poverty Rate"</span>, <span class="at">y =</span> <span class="st">"Local Per-Pupil Revenue"</span>,</span>
<span id="cb9-6"><a href="#cb9-6"></a>       <span class="at">title =</span> <span class="st">"Local Per-Pupil Revenue by Student Povert Rate in Minnesota School Districts"</span>,</span>
<span id="cb9-7"><a href="#cb9-7"></a>       <span class="at">caption =</span> <span class="st">"Source: Edbuild Data, 2019"</span>) <span class="sc">+</span></span>
<span id="cb9-8"><a href="#cb9-8"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="week_02_ggplot_slides_files/figure-revealjs/unnamed-chunk-9-1.png" width="960" class="r-stretch"></section>
<section id="step-5-tidy-up-formatting-12" class="slide level2">
<h2>Step 5: Tidy up formatting (1/2)</h2>
<p>Adding a new variable for size creates a legend. We need to tidy the legend’s labels and the title.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="co"># clean up the legend</span></span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="fu">ggplot</span>(mn_ed_clean, <span class="fu">aes</span>(<span class="at">x =</span> pov_pct, <span class="at">y =</span> local_rev_pp, <span class="at">size =</span> enroll)) <span class="sc">+</span></span>
<span id="cb10-3"><a href="#cb10-3"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">5</span>) <span class="sc">+</span> </span>
<span id="cb10-4"><a href="#cb10-4"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> <span class="fu">percent_format</span>(<span class="at">accuracy =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb10-5"><a href="#cb10-5"></a>  <span class="co"># change legend label formatting</span></span>
<span id="cb10-6"><a href="#cb10-6"></a>  <span class="fu">scale_size</span>(<span class="at">labels =</span> comma) <span class="sc">+</span></span>
<span id="cb10-7"><a href="#cb10-7"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Student Poverty Rate"</span>, <span class="at">y =</span> <span class="st">"Local Per-Pupil Revenue"</span>,</span>
<span id="cb10-8"><a href="#cb10-8"></a>       <span class="at">title =</span> <span class="st">"Local Per-Pupil Revenue by Student Povert Rate in Minnesota School Districts"</span>,</span>
<span id="cb10-9"><a href="#cb10-9"></a>       <span class="at">caption =</span> <span class="st">"Source: Edbuild Data, 2019"</span>,</span>
<span id="cb10-10"><a href="#cb10-10"></a>       <span class="co"># add nice label for size element</span></span>
<span id="cb10-11"><a href="#cb10-11"></a>  <span class="at">size =</span> <span class="st">"Enrollment"</span>) <span class="sc">+</span></span>
<span id="cb10-12"><a href="#cb10-12"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="week_02_ggplot_slides_files/figure-revealjs/unnamed-chunk-10-1.png" width="960" class="r-stretch"></section>
<section id="step-5-tidy-up-formatting-22" class="slide level2">
<h2>Step 5: Tidy up formatting (2/2)</h2>
<p>We can also adjust some paramenters to allow for more visual contrast in size. By default, ggplot2 will adjust points’ radii based on the size variable. Using area is a more visually honest way to represent the data, so let’s make that change.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="co"># create more contrast in size</span></span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="fu">ggplot</span>(mn_ed_clean, <span class="fu">aes</span>(<span class="at">x =</span> pov_pct, <span class="at">y =</span> local_rev_pp, <span class="at">size =</span> enroll)) <span class="sc">+</span></span>
<span id="cb11-3"><a href="#cb11-3"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">5</span>) <span class="sc">+</span> </span>
<span id="cb11-4"><a href="#cb11-4"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> <span class="fu">percent_format</span>(<span class="at">accuracy =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb11-5"><a href="#cb11-5"></a>  <span class="co"># change size scaling to vary by area, not radius + change max size</span></span>
<span id="cb11-6"><a href="#cb11-6"></a>  <span class="fu">scale_size_area</span>(<span class="at">labels =</span> comma, <span class="at">max_size =</span> <span class="dv">10</span>) <span class="sc">+</span> </span>
<span id="cb11-7"><a href="#cb11-7"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Student Poverty Rate"</span>, <span class="at">y =</span> <span class="st">"Local Per-Pupil Revenue"</span>,</span>
<span id="cb11-8"><a href="#cb11-8"></a>       <span class="at">title =</span> <span class="st">"Local Per-Pupil Revenue by Student Povert Rate in Minnesota School Districts"</span>,</span>
<span id="cb11-9"><a href="#cb11-9"></a>       <span class="at">caption =</span> <span class="st">"Source: Edbuild Data, 2019"</span>,</span>
<span id="cb11-10"><a href="#cb11-10"></a>       <span class="co"># add nice label for size element</span></span>
<span id="cb11-11"><a href="#cb11-11"></a>  <span class="at">size =</span> <span class="st">"Enrollment"</span>) <span class="sc">+</span></span>
<span id="cb11-12"><a href="#cb11-12"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="week_02_ggplot_slides_files/figure-revealjs/unnamed-chunk-11-1.png" width="960" class="r-stretch"></section>
<section id="step-6-repeat-steps-4-5-as-needed-15" class="slide level2">
<h2>Step 6: Repeat steps 4-5 as needed (1/5)</h2>
<p>Adding color can be helpful. Let’s add color based on urbanicity.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="co"># add in color based on urbanicity</span></span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="fu">ggplot</span>(mn_ed_clean, <span class="fu">aes</span>(<span class="at">x =</span> pov_pct, <span class="at">y =</span> local_rev_pp, <span class="at">size =</span> enroll,</span>
<span id="cb12-3"><a href="#cb12-3"></a>                        <span class="at">color =</span> urbanicity)) <span class="sc">+</span></span>
<span id="cb12-4"><a href="#cb12-4"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">5</span>) <span class="sc">+</span> </span>
<span id="cb12-5"><a href="#cb12-5"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> <span class="fu">percent_format</span>(<span class="at">accuracy =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb12-6"><a href="#cb12-6"></a>  <span class="fu">scale_size_area</span>(<span class="at">labels =</span> comma, <span class="at">max_size =</span> <span class="dv">10</span>) <span class="sc">+</span> </span>
<span id="cb12-7"><a href="#cb12-7"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Student Poverty Rate"</span>, <span class="at">y =</span> <span class="st">"Local Per-Pupil Revenue"</span>,</span>
<span id="cb12-8"><a href="#cb12-8"></a>       <span class="at">title =</span> <span class="st">"Local Per-Pupil Revenue by Student Povert Rate in Minnesota School Districts"</span>,</span>
<span id="cb12-9"><a href="#cb12-9"></a>       <span class="at">caption =</span> <span class="st">"Source: Edbuild Data, 2019"</span>,</span>
<span id="cb12-10"><a href="#cb12-10"></a>       <span class="co"># add nice label for size element</span></span>
<span id="cb12-11"><a href="#cb12-11"></a>  <span class="at">size =</span> <span class="st">"Enrollment"</span>) <span class="sc">+</span></span>
<span id="cb12-12"><a href="#cb12-12"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="week_02_ggplot_slides_files/figure-revealjs/unnamed-chunk-12-1.png" width="960" class="r-stretch"></section>
<section id="step-6-repeat-steps-4-5-as-needed-25" class="slide level2">
<h2>Step 6: Repeat steps 4-5 as needed (2/5)</h2>
<p>That doesn’t look great. Let’s clean up the data a little more to reduce 11 urbanicity levels to four, then tidy up the legend label.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="co"># clean up the unicorn vomit</span></span>
<span id="cb13-2"><a href="#cb13-2"></a>mn_ed_clean <span class="ot">&lt;-</span> mn_ed_clean <span class="sc">|&gt;</span></span>
<span id="cb13-3"><a href="#cb13-3"></a>  <span class="fu">mutate</span>(<span class="at">urbanicity =</span> <span class="fu">fct_collapse</span>(<span class="fu">as.factor</span>(urbanicity),</span>
<span id="cb13-4"><a href="#cb13-4"></a>                                   <span class="at">City =</span> <span class="fu">c</span>(<span class="st">"11-City: Large"</span>, </span>
<span id="cb13-5"><a href="#cb13-5"></a>                                            <span class="st">"12-City: Mid-size"</span>,</span>
<span id="cb13-6"><a href="#cb13-6"></a>                                            <span class="st">"13-City: Small"</span>),</span>
<span id="cb13-7"><a href="#cb13-7"></a>                                   <span class="at">Suburb =</span> <span class="fu">c</span>(<span class="st">"21-Suburb: Large"</span>,</span>
<span id="cb13-8"><a href="#cb13-8"></a>                                              <span class="st">"22-Suburb: Mid-size"</span>,</span>
<span id="cb13-9"><a href="#cb13-9"></a>                                             <span class="st">"23-Suburb: Small"</span>),</span>
<span id="cb13-10"><a href="#cb13-10"></a>                                   <span class="at">Town =</span> <span class="fu">c</span>(<span class="st">"31-Town: Fringe"</span>,</span>
<span id="cb13-11"><a href="#cb13-11"></a>                                            <span class="st">"32-Town: Distant"</span>,</span>
<span id="cb13-12"><a href="#cb13-12"></a>                                            <span class="st">"33-Town: Remote"</span>),</span>
<span id="cb13-13"><a href="#cb13-13"></a>                                   <span class="at">Rural =</span> <span class="fu">c</span>(<span class="st">"41-Rural: Fringe"</span>,</span>
<span id="cb13-14"><a href="#cb13-14"></a>                                             <span class="st">"42-Rural: Distant"</span>,</span>
<span id="cb13-15"><a href="#cb13-15"></a>                                             <span class="st">"43-Rural: Remote"</span>)))</span>
<span id="cb13-16"><a href="#cb13-16"></a></span>
<span id="cb13-17"><a href="#cb13-17"></a><span class="co"># better colors and tidy legend label</span></span>
<span id="cb13-18"><a href="#cb13-18"></a><span class="fu">ggplot</span>(mn_ed_clean, <span class="fu">aes</span>(<span class="at">x =</span> pov_pct, <span class="at">y =</span> local_rev_pp, <span class="at">size =</span> enroll,</span>
<span id="cb13-19"><a href="#cb13-19"></a>                        <span class="at">color =</span> urbanicity)) <span class="sc">+</span></span>
<span id="cb13-20"><a href="#cb13-20"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">5</span>) <span class="sc">+</span> </span>
<span id="cb13-21"><a href="#cb13-21"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> <span class="fu">percent_format</span>(<span class="at">accuracy =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb13-22"><a href="#cb13-22"></a>  <span class="fu">scale_size_area</span>(<span class="at">labels =</span> comma, <span class="at">max_size =</span> <span class="dv">10</span>) <span class="sc">+</span> </span>
<span id="cb13-23"><a href="#cb13-23"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Student Poverty Rate"</span>, <span class="at">y =</span> <span class="st">"Local Per-Pupil Revenue"</span>,</span>
<span id="cb13-24"><a href="#cb13-24"></a>       <span class="at">title =</span> <span class="st">"Local Per-Pupil Revenue by Student Povert Rate in Minnesota School Districts"</span>,</span>
<span id="cb13-25"><a href="#cb13-25"></a>       <span class="at">caption =</span> <span class="st">"Source: Edbuild Data, 2019"</span>,</span>
<span id="cb13-26"><a href="#cb13-26"></a>       <span class="co"># add nice label for size element</span></span>
<span id="cb13-27"><a href="#cb13-27"></a>  <span class="at">size =</span> <span class="st">"Enrollment"</span>) <span class="sc">+</span></span>
<span id="cb13-28"><a href="#cb13-28"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="week_02_ggplot_slides_files/figure-revealjs/unnamed-chunk-13-1.png" width="960" class="r-stretch"></section>
<section id="step-6-repeat-steps-4-5-as-needed-35" class="slide level2">
<h2>Step 6: Repeat steps 4-5 as needed (3/5)</h2>
<p>We can and should adjust the colors used. R recognizes some pretty funky color names, which can be found in this helpful cheat sheet.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="co"># adjust colors manually</span></span>
<span id="cb14-2"><a href="#cb14-2"></a><span class="fu">ggplot</span>(mn_ed_clean, <span class="fu">aes</span>(<span class="at">x =</span> pov_pct, <span class="at">y =</span> local_rev_pp, <span class="at">size =</span> enroll,</span>
<span id="cb14-3"><a href="#cb14-3"></a>                        <span class="at">color =</span> urbanicity)) <span class="sc">+</span></span>
<span id="cb14-4"><a href="#cb14-4"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">5</span>) <span class="sc">+</span> </span>
<span id="cb14-5"><a href="#cb14-5"></a>    <span class="co"># create manual color palette</span></span>
<span id="cb14-6"><a href="#cb14-6"></a>  <span class="co"># color names pulled from a pdf y'all should bookmark</span></span>
<span id="cb14-7"><a href="#cb14-7"></a>  <span class="co"># http://www.stat.columbia.edu/~tzheng/files/Rcolor.pdf</span></span>
<span id="cb14-8"><a href="#cb14-8"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"tomato3"</span>, <span class="st">"steelblue2"</span>,</span>
<span id="cb14-9"><a href="#cb14-9"></a>                                <span class="st">"seagreen3"</span>, <span class="st">"orchid1"</span>)) <span class="sc">+</span></span>
<span id="cb14-10"><a href="#cb14-10"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> <span class="fu">percent_format</span>(<span class="at">accuracy =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb14-11"><a href="#cb14-11"></a>  <span class="fu">scale_size_area</span>(<span class="at">labels =</span> comma, <span class="at">max_size =</span> <span class="dv">10</span>) <span class="sc">+</span> </span>
<span id="cb14-12"><a href="#cb14-12"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Student Poverty Rate"</span>, <span class="at">y =</span> <span class="st">"Local Per-Pupil Revenue"</span>,</span>
<span id="cb14-13"><a href="#cb14-13"></a>       <span class="at">title =</span> <span class="st">"Local Per-Pupil Revenue by Student Povert Rate in Minnesota School Districts"</span>,</span>
<span id="cb14-14"><a href="#cb14-14"></a>       <span class="at">caption =</span> <span class="st">"Source: Edbuild Data, 2019"</span>,</span>
<span id="cb14-15"><a href="#cb14-15"></a>       <span class="co"># add nice label for size element</span></span>
<span id="cb14-16"><a href="#cb14-16"></a>  <span class="at">size =</span> <span class="st">"Enrollment"</span>) <span class="sc">+</span></span>
<span id="cb14-17"><a href="#cb14-17"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="week_02_ggplot_slides_files/figure-revealjs/unnamed-chunk-14-1.png" width="960" class="r-stretch"></section>
<section id="step-6-repeat-steps-4-5-as-needed-45" class="slide level2">
<h2>Step 6: Repeat steps 4-5 as needed (4/5)</h2>
<p>We should strive to make our analyses as accessible as possible. The viridis package includes some color palettes that are friendly for folks with color blindness, which affects 5-10 percent of the US population.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="co"># use colors better for visual impairments</span></span>
<span id="cb15-2"><a href="#cb15-2"></a><span class="fu">library</span>(viridis)</span>
<span id="cb15-3"><a href="#cb15-3"></a><span class="co"># adjust colors manually</span></span>
<span id="cb15-4"><a href="#cb15-4"></a></span>
<span id="cb15-5"><a href="#cb15-5"></a><span class="fu">ggplot</span>(mn_ed_clean, <span class="fu">aes</span>(<span class="at">x =</span> pov_pct, <span class="at">y =</span> local_rev_pp, <span class="at">size =</span> enroll,</span>
<span id="cb15-6"><a href="#cb15-6"></a>                        <span class="at">color =</span> urbanicity)) <span class="sc">+</span></span>
<span id="cb15-7"><a href="#cb15-7"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">5</span>) <span class="sc">+</span> </span>
<span id="cb15-8"><a href="#cb15-8"></a>  <span class="co"># use a colorblind-friendly palette</span></span>
<span id="cb15-9"><a href="#cb15-9"></a>  <span class="fu">scale_color_viridis_d</span>() <span class="sc">+</span></span>
<span id="cb15-10"><a href="#cb15-10"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> <span class="fu">percent_format</span>(<span class="at">accuracy =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb15-11"><a href="#cb15-11"></a>  <span class="fu">scale_size_area</span>(<span class="at">labels =</span> comma, <span class="at">max_size =</span> <span class="dv">10</span>) <span class="sc">+</span> </span>
<span id="cb15-12"><a href="#cb15-12"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Student Poverty Rate"</span>, <span class="at">y =</span> <span class="st">"Local Per-Pupil Revenue"</span>,</span>
<span id="cb15-13"><a href="#cb15-13"></a>       <span class="at">title =</span> <span class="st">"Local Per-Pupil Revenue by Student Povert Rate in Minnesota School Districts"</span>,</span>
<span id="cb15-14"><a href="#cb15-14"></a>       <span class="at">caption =</span> <span class="st">"Source: Edbuild Data, 2019"</span>,</span>
<span id="cb15-15"><a href="#cb15-15"></a>       <span class="co"># add nice label for size element</span></span>
<span id="cb15-16"><a href="#cb15-16"></a>  <span class="at">size =</span> <span class="st">"Enrollment"</span>) <span class="sc">+</span></span>
<span id="cb15-17"><a href="#cb15-17"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="week_02_ggplot_slides_files/figure-revealjs/unnamed-chunk-15-1.png" width="960" class="r-stretch"></section>
<section id="step-6-repeat-steps-4-5-as-needed-55" class="slide level2">
<h2>Step 6: Repeat steps 4-5 as needed (5/5)</h2>
<p>Let’s adjust the range of colors used to exclude that hard-to-see yellow.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="co"># that yellow is hard to see - let's adjust the range</span></span>
<span id="cb16-2"><a href="#cb16-2"></a><span class="fu">ggplot</span>(mn_ed_clean, <span class="fu">aes</span>(<span class="at">x =</span> pov_pct, <span class="at">y =</span> local_rev_pp, <span class="at">size =</span> enroll,</span>
<span id="cb16-3"><a href="#cb16-3"></a>                        <span class="at">color =</span> urbanicity)) <span class="sc">+</span></span>
<span id="cb16-4"><a href="#cb16-4"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">5</span>) <span class="sc">+</span> </span>
<span id="cb16-5"><a href="#cb16-5"></a>  <span class="co"># adjust color range</span></span>
<span id="cb16-6"><a href="#cb16-6"></a>  <span class="fu">scale_color_viridis_d</span>(<span class="at">end =</span> .<span class="dv">8</span>) <span class="sc">+</span></span>
<span id="cb16-7"><a href="#cb16-7"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> <span class="fu">percent_format</span>(<span class="at">accuracy =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb16-8"><a href="#cb16-8"></a>  <span class="fu">scale_size_area</span>(<span class="at">labels =</span> comma, <span class="at">max_size =</span> <span class="dv">10</span>) <span class="sc">+</span> </span>
<span id="cb16-9"><a href="#cb16-9"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Student Poverty Rate"</span>, <span class="at">y =</span> <span class="st">"Local Per-Pupil Revenue"</span>,</span>
<span id="cb16-10"><a href="#cb16-10"></a>       <span class="at">title =</span> <span class="st">"Local  Per-Pupil Revenue by Student Povert Rate in Minnesota School Districts"</span>,</span>
<span id="cb16-11"><a href="#cb16-11"></a>       <span class="at">caption =</span> <span class="st">"Source: Edbuild Data, 2019"</span>,</span>
<span id="cb16-12"><a href="#cb16-12"></a>       <span class="co"># add nice label for size element</span></span>
<span id="cb16-13"><a href="#cb16-13"></a>  <span class="at">size =</span> <span class="st">"Enrollment"</span>) <span class="sc">+</span></span>
<span id="cb16-14"><a href="#cb16-14"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="week_02_ggplot_slides_files/figure-revealjs/unnamed-chunk-16-1.png" width="960" class="r-stretch"></section>
<section id="step-7-replace-a-layer-of-data" class="slide level2">
<h2>Step 7: Replace a layer of data</h2>
<p>Sometimes color isn’t the answer - let’s try facets instead.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="co"># use facets instead of color</span></span>
<span id="cb17-2"><a href="#cb17-2"></a><span class="fu">ggplot</span>(mn_ed_clean, <span class="fu">aes</span>(<span class="at">x =</span> pov_pct, <span class="at">y =</span> local_rev_pp, <span class="at">size =</span> enroll,</span>
<span id="cb17-3"><a href="#cb17-3"></a>                        <span class="at">color =</span> urbanicity)) <span class="sc">+</span></span>
<span id="cb17-4"><a href="#cb17-4"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">5</span>) <span class="sc">+</span> </span>
<span id="cb17-5"><a href="#cb17-5"></a>  <span class="co"># add facet by urbanicity</span></span>
<span id="cb17-6"><a href="#cb17-6"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>urbanicity) <span class="sc">+</span></span>
<span id="cb17-7"><a href="#cb17-7"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> <span class="fu">percent_format</span>(<span class="at">accuracy =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb17-8"><a href="#cb17-8"></a>  <span class="fu">scale_size_area</span>(<span class="at">labels =</span> comma, <span class="at">max_size =</span> <span class="dv">10</span>) <span class="sc">+</span> </span>
<span id="cb17-9"><a href="#cb17-9"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Student Poverty Rate"</span>, <span class="at">y =</span> <span class="st">"Local Per-Pupil Revenue"</span>,</span>
<span id="cb17-10"><a href="#cb17-10"></a>       <span class="at">title =</span> <span class="st">"Local Per-Pupil Revenue by Student Povert Rate in Minnesota School Districts"</span>,</span>
<span id="cb17-11"><a href="#cb17-11"></a>       <span class="at">caption =</span> <span class="st">"Source: Edbuild Data, 2019"</span>,</span>
<span id="cb17-12"><a href="#cb17-12"></a>       <span class="co"># add nice label for size element</span></span>
<span id="cb17-13"><a href="#cb17-13"></a>  <span class="at">size =</span> <span class="st">"Enrollment"</span>) <span class="sc">+</span></span>
<span id="cb17-14"><a href="#cb17-14"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="week_02_ggplot_slides_files/figure-revealjs/unnamed-chunk-17-1.png" width="960" class="r-stretch"></section></section>
<section>
<section id="using-histograms-to-compare-state-and-local-revenue" class="title-slide slide level1 center">
<h1>Using histograms to compare state and local revenue</h1>

</section>
<section id="use-edbuildr-data-to-create-state-summaries" class="slide level2">
<h2>Use Edbuildr data to create state summaries</h2>
<p>Summarize the data level data and calculate the median for enrollment, number of schools, median household income, median property value, and more.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="co"># summarise ------------</span></span>
<span id="cb18-2"><a href="#cb18-2"></a></span>
<span id="cb18-3"><a href="#cb18-3"></a><span class="co"># create a state summary dataframe</span></span>
<span id="cb18-4"><a href="#cb18-4"></a>state_summary <span class="ot">&lt;-</span> dist_fy19_raw <span class="sc">|&gt;</span> </span>
<span id="cb18-5"><a href="#cb18-5"></a>  <span class="fu">group_by</span>(State) <span class="sc">|&gt;</span> </span>
<span id="cb18-6"><a href="#cb18-6"></a>  <span class="fu">summarise</span>(<span class="at">enroll_med =</span> <span class="fu">median</span>(ENROLL, <span class="at">na.rm =</span> T),</span>
<span id="cb18-7"><a href="#cb18-7"></a>            <span class="at">n_schools_med =</span> <span class="fu">median</span>(dOperational_schools, <span class="at">na.rm =</span> T),</span>
<span id="cb18-8"><a href="#cb18-8"></a>            <span class="at">nonwhite_pct_med =</span> <span class="fu">median</span>(pctNonwhite, <span class="at">na.rm =</span> T),</span>
<span id="cb18-9"><a href="#cb18-9"></a>            <span class="at">st_pov_rate_med =</span> <span class="fu">median</span>(StPovRate, <span class="at">na.rm =</span> T),</span>
<span id="cb18-10"><a href="#cb18-10"></a>            <span class="at">sd_area_med =</span> <span class="fu">median</span>(sd_area, <span class="at">na.rm =</span> T),</span>
<span id="cb18-11"><a href="#cb18-11"></a>            <span class="at">student_per_sq_mile_med =</span> <span class="fu">median</span>(student_per_sq_mile, <span class="at">na.rm =</span> T),</span>
<span id="cb18-12"><a href="#cb18-12"></a>            <span class="at">mhi_med =</span> <span class="fu">median</span>(MHI, <span class="at">na.rm =</span> T),</span>
<span id="cb18-13"><a href="#cb18-13"></a>            <span class="at">mpv_med =</span> <span class="fu">median</span>(MPV, <span class="at">na.rm =</span> T),</span>
<span id="cb18-14"><a href="#cb18-14"></a>            <span class="at">state_loc_rev_pp_med =</span> <span class="fu">median</span>(SLRPP, <span class="at">na.rm =</span> T))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="create-histograms-13" class="slide level2">
<h2>Create histograms (1/3)</h2>
<p>Use a histogram to visualize the distribution of median property values across states.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="co"># histogram of median property value</span></span>
<span id="cb19-2"><a href="#cb19-2"></a><span class="fu">ggplot</span>(<span class="at">data =</span> state_summary) <span class="sc">+</span></span>
<span id="cb19-3"><a href="#cb19-3"></a>  <span class="fu">geom_histogram</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> mpv_med), <span class="at">binwidth =</span> <span class="dv">40000</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="week_02_ggplot_slides_files/figure-revealjs/unnamed-chunk-19-1.png" width="960" class="r-stretch"></section>
<section id="create-histograms-23" class="slide level2">
<h2>Create histograms (2/3)</h2>
<p>Use a histogram to visualize the distribution of median household income across states.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="co"># histogram of median household income</span></span>
<span id="cb20-2"><a href="#cb20-2"></a><span class="fu">ggplot</span>(<span class="at">data =</span> state_summary) <span class="sc">+</span></span>
<span id="cb20-3"><a href="#cb20-3"></a>  <span class="fu">geom_histogram</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> mhi_med), <span class="at">binwidth =</span> <span class="dv">3000</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="week_02_ggplot_slides_files/figure-revealjs/unnamed-chunk-20-1.png" width="960" class="r-stretch"></section>
<section id="create-histograms-33" class="slide level2">
<h2>Create histograms (3/3)</h2>
<p>Use a histogram to visualize the distribution of state and local per-pupil funding across states.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a><span class="co"># histogram of state + local pp rev</span></span>
<span id="cb21-2"><a href="#cb21-2"></a><span class="fu">ggplot</span>(<span class="at">data =</span> state_summary) <span class="sc">+</span></span>
<span id="cb21-3"><a href="#cb21-3"></a>  <span class="fu">geom_histogram</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> state_loc_rev_pp_med), <span class="at">binwidth =</span> <span class="dv">2000</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="week_02_ggplot_slides_files/figure-revealjs/unnamed-chunk-21-1.png" width="960" class="r-stretch"></section></section>
<section id="homework-assignment" class="title-slide slide level1 center">
<h1>Homework assignment</h1>
<p>Use edbuildr data to create scatter plots for your states that shows the relationship between property wealth, income, and per-pupil revenue.</p>


<img src="../../images/primary_full-color.png" class="slide-logo r-stretch"><div class="footer footer-default">

</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>